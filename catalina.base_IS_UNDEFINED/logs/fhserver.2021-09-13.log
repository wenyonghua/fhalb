2021-09-13 00:29:28.577 [commons-pool-evictor-thread] ERROR redis.clients.jedis.JedisFactory - Error while validating pooled Jedis object.
java.lang.ClassCastException: java.util.ArrayList cannot be cast to [B
	at redis.clients.jedis.Connection.getStatusCodeReply(Connection.java:270)
	at redis.clients.jedis.BinaryJedis.ping(BinaryJedis.java:381)
	at redis.clients.jedis.JedisFactory.validateObject(JedisFactory.java:214)
	at org.apache.commons.pool2.impl.GenericObjectPool.evict(GenericObjectPool.java:810)
	at org.apache.commons.pool2.impl.BaseGenericObjectPool$Evictor.run(BaseGenericObjectPool.java:1160)
	at org.apache.commons.pool2.impl.EvictionTimer$WeakRunner.run(EvictionTimer.java:213)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:308)
	at java.util.concurrent.FutureTask.runAndReset(FutureTask.java)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-13 00:33:14.604 [http-nio-8081-exec-1] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - ==>  Preparing: select USER_ID, USERNAME, PASSWORD, NAME, ROLE_ID, LAST_LOGIN, IP, STATUS, BZ, SKIN, EMAIL, NUMBER, PHONE, ROLE_IDS from SYS_USER where USERNAME = ?
2021-09-13 00:33:14.846 [http-nio-8081-exec-1] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - ==> Parameters: wythe(String)
2021-09-13 00:33:14.892 [http-nio-8081-exec-1] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - <==      Total: 1
2021-09-13 00:33:14.903 [http-nio-8081-exec-1] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - ==>  Preparing: select USER_ID, USERNAME, PASSWORD, NAME, ROLE_ID, LAST_LOGIN, IP, STATUS, BZ, SKIN, EMAIL, NUMBER, PHONE, ROLE_IDS from SYS_USER where USERNAME = ?
2021-09-13 00:33:14.904 [http-nio-8081-exec-1] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - ==> Parameters: wythe(String)
2021-09-13 00:33:14.906 [http-nio-8081-exec-1] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - <==      Total: 1
2021-09-13 00:33:14.913 [http-nio-8081-exec-1] DEBUG org.fh.mapper.dsno1.system.FHlogMapper.save - ==>  Preparing: insert into SYS_FHLOG ( USERNAME, CZTIME, CONTENT, FHLOG_ID ) values ( ?, ?, ?, ? )
2021-09-13 00:33:14.923 [http-nio-8081-exec-1] DEBUG org.fh.mapper.dsno1.system.FHlogMapper.save - ==> Parameters: wythe(String), 2021-09-13 00:33:14(String), 成功登录系统(String), ed0a3bc5aab549ca89569651fd8a7639(String)
2021-09-13 00:33:14.928 [http-nio-8081-exec-1] DEBUG org.fh.mapper.dsno1.system.FHlogMapper.save - <==    Updates: 1
2021-09-13 00:33:15.515 [http-nio-8081-exec-2] DEBUG o.f.m.dsno1.system.UsersMapper.getUserAndRoleById - ==>  Preparing: select u.USER_ID, u.USERNAME, u.NAME, u.PASSWORD, u.SKIN, u.NUMBER, u.ROLE_IDS, r.ROLE_ID, r.ROLE_NAME, r.RIGHTS as ROLE_RIGHTS, r.ADD_QX, r.DEL_QX, r.EDIT_QX, r.CHA_QX from SYS_USER u left join SYS_ROLE r on u.ROLE_ID=r.ROLE_ID where u.STATUS=0 and u.USER_ID=?
2021-09-13 00:33:15.529 [http-nio-8081-exec-2] DEBUG o.f.m.dsno1.system.UsersMapper.getUserAndRoleById - ==> Parameters: dc603a68ac014241acc9a23dd31fa947(String)
2021-09-13 00:33:15.542 [http-nio-8081-exec-2] DEBUG o.f.m.dsno1.system.UsersMapper.getUserAndRoleById - <==      Total: 1
2021-09-13 00:33:15.551 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.RoleMapper.findById - ==>  Preparing: select ROLE_ID, ROLE_NAME, RIGHTS, PARENT_ID, ADD_QX, DEL_QX, EDIT_QX, CHA_QX, RNUMBER from SYS_ROLE where ROLE_ID = ?
2021-09-13 00:33:15.553 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.RoleMapper.findById - ==> Parameters: fhadminzhuche(String)
2021-09-13 00:33:15.556 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.RoleMapper.findById - <==      Total: 1
2021-09-13 00:33:15.592 [http-nio-8081-exec-2] DEBUG o.f.m.d.s.B.listAllBrAndQxnameByZF - ==>  Preparing: select SHIRO_KEY from SYS_ROLE_FHBUTTON a left join SYS_FHBUTTON b on a.BUTTON_ID = b.FHBUTTON_ID where a.ROLE_ID in ( ? , ? )
2021-09-13 00:33:15.593 [http-nio-8081-exec-2] DEBUG o.f.m.d.s.B.listAllBrAndQxnameByZF - ==> Parameters: fhadminzhuche(String), 9ee7f60e95294b51ac001f3b6a2d1e3a(String)
2021-09-13 00:33:15.610 [http-nio-8081-exec-2] DEBUG o.f.m.d.s.B.listAllBrAndQxnameByZF - <==      Total: 9
2021-09-13 00:33:15.611 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.RoleMapper.findById - ==>  Preparing: select ROLE_ID, ROLE_NAME, RIGHTS, PARENT_ID, ADD_QX, DEL_QX, EDIT_QX, CHA_QX, RNUMBER from SYS_ROLE where ROLE_ID = ?
2021-09-13 00:33:15.612 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.RoleMapper.findById - ==> Parameters: fhadminzhuche(String)
2021-09-13 00:33:15.613 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.RoleMapper.findById - <==      Total: 1
2021-09-13 00:33:15.660 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.UsersMapper.saveIP - ==>  Preparing: update SYS_USER set IP = ?, LAST_LOGIN = ? where USERNAME = ?
2021-09-13 00:33:15.665 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.UsersMapper.saveIP - ==> Parameters: 127.0.0.1(String), 2021-09-13 00:33:15(String), wythe(String)
2021-09-13 00:33:15.669 [http-nio-8081-exec-2] DEBUG org.fh.mapper.dsno1.system.UsersMapper.saveIP - <==    Updates: 1
2021-09-13 00:33:15.804 [http-nio-8081-exec-3] DEBUG org.fh.mapper.dsno1.system.PhotoMapper.findById - ==>  Preparing: select USERNAME, PHOTO0, PHOTO1, PHOTO2, PHOTO3, USERPHOTO_ID from SYS_USERPHOTO where USERNAME = ?
2021-09-13 00:33:15.805 [http-nio-8081-exec-3] DEBUG org.fh.mapper.dsno1.system.PhotoMapper.findById - ==> Parameters: wythe(String)
2021-09-13 00:33:15.810 [http-nio-8081-exec-3] DEBUG org.fh.mapper.dsno1.system.PhotoMapper.findById - <==      Total: 0
2021-09-13 00:33:15.825 [http-nio-8081-exec-3] DEBUG o.f.mapper.dsno1.system.FhsmsMapper.findFhsmsCount - ==>  Preparing: select count(FHSMS_ID) fhsmsCount from SYS_FHSMS where STATUS = '2' and TYPE = '1' and FROM_USERNAME = ?
2021-09-13 00:33:15.830 [http-nio-8081-exec-3] DEBUG o.f.mapper.dsno1.system.FhsmsMapper.findFhsmsCount - ==> Parameters: wythe(String)
2021-09-13 00:33:15.839 [http-nio-8081-exec-3] DEBUG o.f.mapper.dsno1.system.FhsmsMapper.findFhsmsCount - <==      Total: 1
2021-09-13 00:33:15.842 [http-nio-8081-exec-3] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - ==>  Preparing: select USER_ID, USERNAME, PASSWORD, NAME, ROLE_ID, LAST_LOGIN, IP, STATUS, BZ, SKIN, EMAIL, NUMBER, PHONE, ROLE_IDS from SYS_USER where USERNAME = ?
2021-09-13 00:33:15.842 [http-nio-8081-exec-3] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - ==> Parameters: wythe(String)
2021-09-13 00:33:15.844 [http-nio-8081-exec-3] DEBUG o.f.mapper.dsno1.system.UsersMapper.findByUsername - <==      Total: 1
2021-09-13 00:33:15.847 [http-nio-8081-exec-3] DEBUG o.f.m.d.s.RoleMapper.listAllRolesByArryROLE_ID - ==>  Preparing: select RNUMBER from SYS_ROLE where ROLE_ID in ( ? , ? )
2021-09-13 00:33:15.848 [http-nio-8081-exec-3] DEBUG o.f.m.d.s.RoleMapper.listAllRolesByArryROLE_ID - ==> Parameters: 9ee7f60e95294b51ac001f3b6a2d1e3a(String), fhadminzhuche(String)
2021-09-13 00:33:15.852 [http-nio-8081-exec-3] DEBUG o.f.m.d.s.RoleMapper.listAllRolesByArryROLE_ID - <==      Total: 2
2021-09-13 23:53:54.938 [SpringApplicationShutdownHook] ERROR c.a.cloud.nacos.registry.NacosServiceRegistry - ERR_NACOS_DEREGISTER, de-register failed...NacosRegistration{nacosDiscoveryProperties=NacosDiscoveryProperties{serverAddr='127.0.0.1:8848', endpoint='', namespace='', watchDelay=30000, logName='', service='fh-system', weight=1.0, clusterName='DEFAULT', group='DEFAULT_GROUP', namingLoadCacheAtStart='false', metadata={preserved.register.source=SPRING_CLOUD}, registerEnabled=true, ip='192.168.1.5', networkInterface='', port=8081, secure=false, accessKey='', secretKey='', heartBeatInterval=null, heartBeatTimeout=null, ipDeleteTimeout=null}},
com.alibaba.nacos.api.exception.NacosException: failed to req API:/nacos/v1/ns/instance after all servers([127.0.0.1:8848]) tried: java.net.ConnectException: Connection refused (Connection refused)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqApi(NamingProxy.java:556)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqApi(NamingProxy.java:498)
	at com.alibaba.nacos.client.naming.net.NamingProxy.reqApi(NamingProxy.java:493)
	at com.alibaba.nacos.client.naming.net.NamingProxy.deregisterService(NamingProxy.java:271)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:252)
	at com.alibaba.nacos.client.naming.NacosNamingService.deregisterInstance(NacosNamingService.java:238)
	at com.alibaba.cloud.nacos.registry.NacosServiceRegistry.deregister(NacosServiceRegistry.java:102)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.deregister(AbstractAutoServiceRegistration.java:249)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.stop(AbstractAutoServiceRegistration.java:264)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.destroy(AbstractAutoServiceRegistration.java:201)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:347)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:177)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:184)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1152)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1145)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:172)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:131)
	at java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:100)
	at java.lang.Thread.run(Thread.java:748)
